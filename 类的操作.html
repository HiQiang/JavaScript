<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    .b1{
      width: 100px;
      height: 100px;
      background-color: red;
    }

    .b2{
      /*width: 200px;*/
      height: 200px;
      background-color: yellow;
    }

  </style>
  <script type="text/javascript">
    window.onload = function(){
      let box = document.getElementById("box");
      let btn01 = document.getElementById("btn01");


      btn01.onclick = function(){
        //修改box样式
        //通过style属性来修改元素的样式，每修改一个样式，浏览器就要重新渲染一次页面
        //这样的执行性能使比较差的，而且这种形式当我们要修改多个样式时，也不太方便
        // box.style.width = "200px";
        // box.style.height = "200px";
        // box.style.backgroundColor = "yellow";

        // 希望一行代码可以同时修改多个样式
        // 修改box的class属性
        // 我们可以通过修改元素的class属性来间接的修改样式
        // 这样以来我们只需要修改一次即可同时修改多个样式
        // 此时浏览器只需要重新渲染页面一次，性能比较好
        // 并且这种方式可以使表现和行为进一步分离
        //
        // box.className = "b2";
        // addClass(box, "b2");
        toggleClass(box, "b2");


      };
      //定义一个函数用来向一个元素中添加指定的class属性值
      //参数：
      //obj要添加的class属性元素
      //要添加的属性值

      function addClass(obj, cn) {
        if(!hasClass(obj,cn)){
          obj.className += " " + cn;
        }
      }

      //判断一个元素中是否含有指定的class属性值
      //如果有该class 则返回true 没有则返回false
      //

      function hasClass(obj, cn){
        //判断obj中是否有cn class
        // let reg = /\bb2\b/;
        let reg = new RegExp("\\b" + cn + "\\b");
        return reg.test(obj.className);

      }

      //删除一个元素中指定的class属性
      function removeClass(obj, cn){
        let reg = new RegExp("\\b " + cn + "\\b");
        //删除class
        obj.className = obj.className.replace(reg, "");

      }

      //toggle 可以用来切换一个类，如果元素中具有该类，则删除，没有则添加
      function toggleClass(obj, cn){
        //判断obj中是否含有cn
        if(hasClass(obj, cn)){
          //有，则删除
          removeClass(obj,cn);
        }else{
          addClass(obj,cn);
        }

      }



    };


  </script>
</head>
<body>
<button id="btn01">点击按钮以后修改box的样式</button>
<br/><br/>

<div id="box" class="b1 b2"></div>

</body>
</html>
